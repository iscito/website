<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">2 posts tagged with &quot;plc4x&quot; | iscito</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://iscito.com/blog/tags/plc-4-x"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="2 posts tagged with &quot;plc4x&quot; | iscito"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://iscito.com/blog/tags/plc-4-x"><link data-rh="true" rel="alternate" href="https://iscito.com/blog/tags/plc-4-x" hreflang="en"><link data-rh="true" rel="alternate" href="https://iscito.com/blog/tags/plc-4-x" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="iscito RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="iscito Atom Feed"><link rel="stylesheet" href="/assets/css/styles.7152a4d2.css">
<link rel="preload" href="/assets/js/runtime~main.70b03357.js" as="script">
<link rel="preload" href="/assets/js/main.a40c436a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/PLC4X OPCUA Server">PLC4X OPCUA Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/PLC4X Kafka Integration">PLC4X Kafka Integration</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>2 posts tagged with &quot;plc4x&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/PLC4X OPCUA Server">PLC4X OPCUA Server</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-12T00:00:00.000Z" itemprop="datePublished">September 12, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hutcheb" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hutcheb.png" alt="Ben Hutcheson"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hutcheb" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ben Hutcheson</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of iscito</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The PLC4X OPC-UA Server is an integration with the PLC4X
stack which allows for communication via a number of industrial
protocols, and the Eclipse Milo OPC-UA server stack.
This allows you to make available via OPC-UA time series data points
using any of these protocols:-</p><ul><li>Modbus</li><li>Ethernet/IP (Including Rockwell)</li><li>ADS (Beckhoff)</li><li>S7 (Siemens)</li><li>OPCUA</li><li>BACNET (Building Automation)</li><li>Clipsal C-Bus</li><li>CANOpen</li><li>KNX (Building Automation)</li><li>PROFINET (In Development)</li><li>and a simulation device.</li></ul><p>PLC4X is an industrial communication open source package. It has implementations in
Java, Go and C (Java is the most complete, followed by Go and C). The OPC-UA server
uses the Java version. </p><p>OPC-UA is the next iteration of OPC and has a number of benefits. For me the major
points to migrate away from OPC are:-</p><ul><li>OPC is based on old technology (DCOM/RPC) which is being phased out by Microsoft.</li><li>DCOM has always been difficult to configure to allow remote communication.</li><li>OPC is primarily a Microsoft Windows technology.</li><li>OPC uses any number and random TCP ports making it hard to configure inter-network
communication.</li></ul><p>OPC-UA has been around for a number of years now and is increasing making it&#x27;s way into
the industrial market. Most SCADA packages now support OPC-UA.</p><ul><li>OPC-UA uses only one TCP port, which makes firewall configuration simple.</li><li>It can be run on linux systems allowing for smaller footprint servers. An example would
be running the PLC4X OPC-UA server on a docker image.</li><li>It seems to have a larger code base in the open source community.</li><li>As opposed to OPC, OPCUA stacks can be run on the same device as the PLC. Allowing for PLCs
to support OPCUA natively (Siemens S7-1500).</li></ul><p>The Eclipse Milo OPC-UA stack is an open source stack maintained primarily by Kevin Herron. I believe it is
the OPC-UA stack that the Ignition SCADA package is based on.</p><p>To run the <a href="https://github.com/apache/plc4x" target="_blank" rel="noopener noreferrer">PLC4X server</a>, copy the config file from src/main/resources/config.yml and modify it as below.
You&#x27;ll need to build the server from with the plc4j/integrations/opcua-server directory.</p><blockquote><p>mvn install</p></blockquote><p>run the executable:-</p><blockquote><p>   java -jar target/plc4x-opcua-server-0.10.0-SNAPSHOT-uber-jar.jar -c config.yml -i</p></blockquote><p>Once the initial configuration is done via the -i switch, the service can then
be run without interaction. This allows it to be run in terminal, wrapped in a service wrapper, GUI link or docker image;
however you wish.</p><p>An example config file is located in the PLC4X OPC Server Integrations folder.</p><p><img loading="lazy" alt="PLC4X Config file" src="/assets/images/2022-09-12 10-46-02-7f0bd6c8ec42801b5e6cc328d51eab2d.png" width="562" height="404" class="img_ev3q"></p><p>A directory to store the certificates needs to be specified.
The connection string syntax can be found at <a href="https://plc4x.apache.org" target="_blank" rel="noopener noreferrer">PLC4X Protocol Syntax</a>,
which varies depending on the protocol and parameters available.</p><p>Once the server is running it can be connected to using the endpoint url </p><blockquote><p>  opc.tcp://localhost:53530/plc4x</p></blockquote><p>The hostname can be any resolvable name for the host. In this example I have used the
UA Expert Client, but any client can be used including the PLC4X OPC UA client.</p><p>Once connected you&#x27;re able to browse and subscribe to the available tags.</p><p><img loading="lazy" alt="Tag Browsing" src="/assets/images/2022-09-12 10-31-45-9da60201d2186ae2943ae26cea7cf70b.png" width="263" height="207" class="img_ev3q"></p><p>The next steps are to continue the great work that Chris has put into the discovery and browse api&#x27;s. Integrating this
into the OPC-UA server should allow for the automatic population of the device&#x27;s and addresses.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/plc-4-x">plc4x</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/opcua">opcua</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/modbus">modbus</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/s-7">s7</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ads">ads</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/eip">eip</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/PLC4X Kafka Integration">PLC4X Kafka Integration</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-12T00:00:00.000Z" itemprop="datePublished">September 12, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hutcheb" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hutcheb.png" alt="Ben Hutcheson"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hutcheb" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ben Hutcheson</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of iscito</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="outline">Outline<a class="hash-link" href="#outline" title="Direct link to heading">​</a></h3><p>PLC4x is an open source industrial communication protocol package that allows you to pull time series data from
PLCs or even SCADA packages. Kafka is an event streaming platform that allows you to publish messages (e.g. JSON messages) and have
them stored in a distributed store called a topic. With the PLC4X Kafka connector you&#x27;re able to read data from a PLC
and publish messages to Kafka, and vice versa, you&#x27;re able to read messages from Kafka and write data to PLC tags.</p><p>Apache Kafka has become fairly ubiquitous as the event streaming platform, Azure Events Hub even has a Kafka compatible
interface. This means that you could have a Kafka cluster on premise and then mirror data from it to Azure Events Hub,
(or any number of Kafka based cloud platforms e.g. Confluent) which makes it incredibly easy to integrate with other
Azure or online services.</p><p>The PLC4X Kafka integration is made of a source and sink Kafka Connect worker and allows you to specify any protocol that
PLC4X supports e.g. Modbus, OPCUA, S7, Ethernet/IP, more information is available on the <a href="https://plc4x.apache.org" target="_blank" rel="noopener noreferrer">PLC4X Driver Page</a>.
The Connect workers are also made available within the Counfluent Hub for easy download. Additional information is available on how
to set it up is available at <a href="https://plc4x.apache.org" target="_blank" rel="noopener noreferrer">PLC4X Kafka Integration</a>.</p><p>One of the primary use cases of this is to read time series data from a PLC, do some real time analysis (averaging,
forecasting, ML) on it and then send it to a database or back to a PLC/SCADA package.</p><p>Or you could poll data from an external service (weather forecast, energy price) and then send it
to the Kafka cluster and then in turn to a PLC or SCADA system. You could place a Kafka cluster within the integration layer and have Kafka Connect workers
perform this reliably and securely.</p><p>Another example use case would be to read data from one PLC and have that sent in realtime to another PLC. Although not a
typical way of doing inter-PLC communication, it has the added benefit of having a highly redundant centralized cluster
that is completely customizable. You don´t have to play around with non-native communication protocols for each PLC,
you can just use PLC4X. This also gives you the option to modify the messages or perform analysis before sending to the
destination PLC.</p><p>Overall having a Kafka cluster or even Azure Events Hub utilizing the PLC4X connectors as part your industrial tech
stack has a number of benefits and could be a worthy addition, especially if you are looking at integrating third party
services with SCADA or PLC packages.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/plc-4-x">plc4x</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kafka">kafka</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/opcua">opcua</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/modbus">modbus</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/s-7">s7</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ads">ads</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/eip">eip</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 iscito, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.70b03357.js"></script>
<script src="/assets/js/main.a40c436a.js"></script>
</body>
</html>